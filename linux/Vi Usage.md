# Vi Usage

标签（空格分隔）： linux 编辑工具

---
### 快捷键以及常用命令(前面带``:``的是命令)
> 
+   h -> 左移一个字符
+   j -> 下移一行
+   k -> 上移一行
+   l -> 右移一个字符
+   w或Shift+→ -> 光标右移一个字到字首
+   W -> 光标右移一个以空格分隔的词到词首
+   b -> 光标左移一个字到字首
+   B -> 光标左移一个以空格分隔的词到词首
+   e -> 光标右移一个字到字尾
+   E -> 光标右移一个以空格分隔的词到词尾
+   ^ -> 光标移到行首
+   \$ -> 光标移到行尾
+   {  ->  光标移到段落头
+   }  -> 光标移到段落尾
+   Ctrl+d -> 下翻半屏
+   Ctrl+u -> 上翻半屏
+   Ctrl+f -> 下翻一屏
+   Ctrl+b -> 上翻一屏
+   G -> 移到缓冲区的最后一行
+   num G -> 移到缓冲区第num行
+   gg -> 移到缓冲区第一行
+   w filename -> 把文件保存到另一个文件名下
\-----------
+   x -> 删除当前光标所在位置的字符
+   dd -> 删除当前光标所在行
+   dw -> 删除当前光标所在位置的单词
+   d$ -> 删除当前光标所在位置至行尾的内容
+   J ->  删除当前光标所在行行尾的换行符（拼接行）
+   u -> 撤销前一编辑命令
+   i -> 在光标的前一个位置插入文本
+   I -> 在光标所在行行首插入文本
+   a -> 在当前光标后最加数据
+   A -> 在当前光标所在行行尾最加数据
+   r char -> 用char替换当前光标所在位置的一个字符
+   R text -> 用text覆盖当前光标所在位置的数据，直到按下ESC键
+   o -> 在当前行之下新开一行
+   O -> 在当前行之上新开一行
+   cw -> 修改从光标所在位置开始的词
+   cnw -> 修改从光标所在位置开始的n个词
+   yw -> 复制光标所在位置后的词
+   ynw -> 复制光标所在位置后的n个词
+   y\$ -> 复制光标所在位置到行尾的内容
+   yy -> 复制光标所在行
+   nyy -> 复制光标所在行以及其后的n-1行
+   tnyy -> 复制光标所在行以及其后的n-1行的数据存入buffer t
+   p  -> 把内容粘贴到光标后的位置
+   P  -> 把内容粘贴到光标前的位置
+   tnp -> 将存在buffer t的n行数据粘贴
+   :s/old/new ->  跳转到old第一次出现的地方，并用new替换
+   :s/old/new/g ->  用new替换光标所在行的所有old
+   :n,ms/old/new ->  用new替换第n到m行每行中第一次出现的old
+   :n,ms/old/new/g ->  用new替换第n到m行的所有old
+   :%s/old/new/g ->  替换整个文件中的old
+   :%s/old/new/gc ->  替换整个文件中的old，但每次出现时提示
+   /pattern -> 从光标开始处向文件尾搜索pattern 
+   ?pattern -> 从光标开始处向文件首搜索pattern 
+   n -> 在同一方向重复上一次搜索命令
+   N -> 在反方向上重复上一次搜索命令
+   . -> 执行上一次执行的命令
\-------------
+   ZZ -> 保存并退出
+   :w filename -> 写入到filename文件中
+   :n,mw filename -> 把第n到m行写入到filename文件中
+   :x -> 保存（如果文件被修改过的话）并退出
+   :q! -> 不保存退出
+   :q -> 退出，如果文件有修改，会有出错提示
+   :wq -> 保存并退出
\-------------
+  :number -> 显示行号光标所在行的行号  
+  :!command -> 执行shell命令command 
+  :r!command -> 把command命令的执行结果输出到当前行的下一行

>   
    有些编辑命令允许使用数字修饰符来指定重复改命令的次数，如``2x``会删除从光标位置开始的两个字符，命令``5dd``会删除从光标当前所在行开始的5行。删除数据时，数据会被保存在一个单独的寄存器中，可以使用``p``命令取回。

###一些小技巧：
#
1. ``:n,$s/^/something`` 在第n行到最后一行的行首插入something
2. ``%s/$/something/g`` 在文件的每一行尾插入something
``tips: s=substitute g=global``

#
1. ``vi file1 file2`` 同时编辑两个文件
1. ``yy`` 拷贝file1中的某行
1. ``:n`` 切换到file2
1. ``p``  在file2光标后粘贴从file1拷贝的内容
1. ``:N`` 切回到file1


#
1. ``:%s#/usr/bin#/bin#g`` 或 ``:%s//usr/bin//bin/g`` 把文件中所有路径/usr/bin换成/bin

#
1. ``:set nu`` 编辑器每一行显示行号








